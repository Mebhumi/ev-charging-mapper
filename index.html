<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EV Charging Stations Thailand</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', sans-serif; }
        #map { height: 100vh; }
        .sidebar { position: fixed; top: 0; left: 0; width: 300px; height: 100vh; background: white; z-index: 1000; overflow-y: auto; box-shadow: 2px 0 8px rgba(0,0,0,0.1); }
        .sidebar-header { padding: 20px; background: #1a73e8; color: white; }
        .stats { padding: 15px; background: #f0f4f8; }
        .filter-section { padding: 15px; }
        .filter-btn { display: block; width: 100%; padding: 10px; margin: 8px 0; border: 2px solid #ddd; background: white; border-radius: 6px; cursor: pointer; }
        .filter-btn.active { background: #1a73e8; color: white; border-color: #1a73e8; }
    </style>
</head>
<body>
    <div class="sidebar">
        <div class="sidebar-header">
            <h2>âš¡ EV Stations Thailand</h2>
        </div>
        <div class="stats">
            <p>Total: <strong id="total">0</strong></p>
            <p>Capacity: <strong id="cap">0</strong> kW</p>
        </div>
        <div class="filter-section">
            <button class="filter-btn active" onclick="show('all')">All</button>
            <button class="filter-btn" onclick="show('PTT')">PTT</button>
            <button class="filter-btn" onclick="show('PEA')">PEA</button>
            <button class="filter-btn" onclick="show('ReverCharger')">ReverCharger</button>
            <button class="filter-btn" onclick="show('EleX')">EleX</button>
            <button class="filter-btn" onclick="show('Altervim')">Altervim</button>
        </div>
    </div>
    <div id="map" style="margin-left: 300px;"></div>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        const stations = [
            {name:'PTT BKK 1',op:'PTT',cap:50,lat:13.7461,lng:100.5382},{name:'PTT BKK 2',op:'PTT',cap:50,lat:13.6890,lng:100.5160},
            {name:'PTT Pattaya',op:'PTT',cap:50,lat:12.9271,lng:100.8825},{name:'PTT Rayong',op:'PTT',cap:50,lat:12.6812,lng:101.2740},
            {name:'PTT Chonburi',op:'PTT',cap:50,lat:13.1939,lng:100.9854},{name:'PTT Khon Kaen',op:'PTT',cap:50,lat:16.4401,lng:102.8348},
            {name:'PTT Chiang Mai',op:'PTT',cap:50,lat:18.7883,lng:98.9853},{name:'PTT Phuket',op:'PTT',cap:50,lat:8.6470,lng:98.5944},
            {name:'PEA BKK 1',op:'PEA',cap:50,lat:13.7280,lng:100.4920},{name:'PEA BKK 2',op:'PEA',cap:50,lat:13.6920,lng:100.5580},
            {name:'PEA Ayutthaya',op:'PEA',cap:50,lat:14.3569,lng:100.5880},{name:'PEA Nakhon Sawan',op:'PEA',cap:50,lat:15.7939,lng:100.0996},
            {name:'PEA Chiang Mai',op:'PEA',cap:50,lat:18.7883,lng:98.9853},{name:'PEA Ubon',op:'PEA',cap:50,lat:15.2436,lng:104.8659},
            {name:'ReverCharger BKK 1',op:'ReverCharger',cap:25,lat:13.7370,lng:100.5265},{name:'ReverCharger BKK 2',op:'ReverCharger',cap:50,lat:13.6850,lng:100.5420},
            {name:'ReverCharger Pattaya',op:'ReverCharger',cap:50,lat:12.9356,lng:100.8758},{name:'ReverCharger Central',op:'ReverCharger',cap:50,lat:13.8160,lng:100.5650},
            {name:'EleX BKK',op:'EleX',cap:50,lat:13.7550,lng:100.4850},{name:'EleX Chiang Mai',op:'EleX',cap:50,lat:18.7883,lng:98.9853},
            {name:'EleX Phuket',op:'EleX',cap:50,lat:8.6470,lng:98.5944},{name:'EleX Khon Kaen',op:'EleX',cap:50,lat:16.4401,lng:102.8348},
            {name:'Altervim BKK 1',op:'Altervim',cap:50,lat:13.7700,lng:100.5500},{name:'Altervim BKK 2',op:'Altervim',cap:50,lat:13.6950,lng:100.4950},
            {name:'Altervim Phuket',op:'Altervim',cap:50,lat:8.6470,lng:98.5944},{name:'Altervim Rayong',op:'Altervim',cap:50,lat:12.6812,lng:101.2740}
        ];
        const colors = {PTT:'#FF6B35',PEA:'#4ECDC4',ReverCharger:'#F38181',EleX:'#95E1D3',Altervim:'#AA96DA'};
        let map, filtered = stations;
        function init() {
            map = L.map('map').setView([13.7262,100.5392],6);
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);
            render();
            update();
        }
        function render() {
            map.eachLayer(l => l instanceof L.Marker && map.removeLayer(l));
            filtered.forEach(s => {
                L.circleMarker([s.lat,s.lng],{radius:8,fillColor:colors[s.op],color:'#fff',weight:2,fillOpacity:0.8})
                    .addTo(map).bindPopup(`<b>${s.name}</b><br>${s.op}<br>${s.cap}kW`);
            });
        }
        function show(op) {
            filtered = op==='all' ? stations : stations.filter(s => s.op===op);
            render();
            update();
            document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
            event.target.classList.add('active');
        }
        function update() {
            document.getElementById('total').textContent = filtered.length;
            document.getElementById('cap').textContent = filtered.reduce((s,st) => s+st.cap,0);
        }
        init();
    </script>
</body>
</html>
